webpackJsonp([1],{"+d+s":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".flex-spacer{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.mat-button{background:transparent;color:#fff;text-transform:uppercase}md-toolbar{background:#507c5c;box-shadow:0 1px 10px 0 #5d5d5d}.fixed-header{position:fixed;top:0;left:0;z-index:2;width:100%}",""]),t.exports=t.exports.toString()},"+ns+":function(t,e){t.exports='<h2 md-dialog-title>Edit Route</h2>\n    <form (ngSubmit)="updateRoute(myForm)" #myForm="ngForm">\n    <md-input-container>\n      <input mdInput [(ngModel)]="from" placeholder="From" name="from">\n    </md-input-container>\n    <md-input-container>\n      <input mdInput [(ngModel)]="to" placeholder="To" name="to">\n    </md-input-container>\n    <md-input-container>\n      <input mdInput [(ngModel)]="date" [mdDatepicker]="picker" placeholder="Choose a date" name="date">\n      <button mdSuffix [mdDatepickerToggle]="picker"></button>\n    </md-input-container>\n    <md-datepicker #picker></md-datepicker>\n      <button md-raised-button type="submit"> edit route </button>\n    </form>\n<p class="error"> {{ error }} </p>\n'},"/ZHi":function(t,e){t.exports='<h2 md-dialog-title>Edit Profile</h2>\n    <form (ngSubmit)="update(myForm)" #myForm="ngForm">\n    <md-input-container>\n      <input mdInput [(ngModel)]="updates.email" placeholder="Email" name="email">\n    </md-input-container>\n      <label for="profilePic">\n        Profile Picture:\n        <input type="file" name="profilePic" ng2FileSelect [uploader]="uploader">\n      </label>\n      <button md-raised-button type="submit"> edit profile </button>\n    </form>\n<p class="error"> {{ error }} </p>\n'},0:function(t,e,n){t.exports=n("cDNt")},"0+Pn":function(t,e,n){"use strict";var i=n("/oeL"),o=n("Z04r"),r=n("BkNc"),a=n("uJLR"),s=n("NrHY"),c=n("3hn/"),d=n("FW8O"),u=n("zeOe"),p=n("WAhk"),l=n("faQl"),f=n("HJ+F"),g=n("RpuY");n.n(g);n.d(e,"a",function(){return b});var m=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(t,e,n,i,o,r,a,s){var c=this;this.router=t,this.session=e,this.userService=n,this.routeActv=i,this.petition=o,this.RouteService=r,this.rating=a,this.dialog=s,this.routesCreated=[],this.petitionsMade=[],this.myRatings=[],i.params.mergeMap(function(t){return n.show(t.id)}).subscribe(function(t){console.log(t),c.user=t.User,c.routesCreated=t.routes,c.routesWithPetitions=t.createData,o.show(c.user._id).subscribe(function(t){c.petitionsMade=t,console.log(c.petitionsMade)}),a.show(c.user._id).subscribe(function(t){c.myRatings=t,console.log(c.myRatings)})})}return t.prototype.ngOnInit=function(){this.session.isLoggedIn().subscribe(function(t){return console.log(t)})},t.prototype.userEditDialog=function(){var t=this;this.dialog.open(p.a,{height:"250px",width:"600px"}).afterClosed().subscribe(function(e){e&&(t.user=e.user)})},t.prototype.userRatingDialog=function(t,e){var n=this;this.dialog.open(f.a,{height:"300px",width:"600px",data:{ratedUserID:e,petitionID:t}}).afterClosed().subscribe(function(e){e&&(n.petitionsMade.filter(function(e){return e._id==t})[0].status="Completed")})},t.prototype.routeEditDialog=function(t){var e=this;console.log(t.target.value);var n=t.target.value;this.dialog.open(l.a,{height:"400px",width:"600px",data:n}).afterClosed().subscribe(function(t){t&&e.routesCreated.forEach(function(n,i){n._id==t._id&&(e.routesCreated[i]=t)})})},t.prototype.newPetition=function(t){this.petition.create(t).subscribe(function(t){return console.log(t)})},t.prototype.remove=function(t){var e=this;this.RouteService.remove(t).subscribe(function(n){e.routesCreated.forEach(function(n,i){n._id==t&&e.routesCreated.splice(i,1)})})},t.prototype.setStatus=function(t,e,n){var i=this;console.log(e.target.value),this.petition.update(t,e.target.value,n).subscribe(function(n){if(console.log(n),1==n.n)if("Delivered to Carrier"==e.target.value){var o=i.petitionsMade.filter(function(e){return e._id==t});o[0].status=e.target.value}else{var r=i.routesWithPetitions.filter(function(e){return e._id==t});console.log(r),r[0].status=e.target.value}})},t}();b=m([n.i(i.Component)({selector:"app-user",template:n("aeEO"),styles:[n("0oJA")],providers:[a.a]}),h("design:paramtypes",["function"==typeof(v=void 0!==r.b&&r.b)&&v||Object,"function"==typeof(y=void 0!==s.a&&s.a)&&y||Object,"function"==typeof(x=void 0!==a.a&&a.a)&&x||Object,"function"==typeof(_=void 0!==r.c&&r.c)&&_||Object,"function"==typeof(I=void 0!==c.a&&c.a)&&I||Object,"function"==typeof(j=void 0!==d.a&&d.a)&&j||Object,"function"==typeof(w=void 0!==u.a&&u.a)&&w||Object,"function"==typeof(k=void 0!==o.I&&o.I)&&k||Object])],b);var v,y,x,_,I,j,w,k},"0oJA":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".flex-container{padding:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}header{margin-top:60px;padding:30px;background:url("+n("iN7m")+");background-size:contain;height:250px;text-align:center}.wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-item{width:25%;margin:5px}.route-item{width:100%;margin:5px}button{text-transform:uppercase}button.remove{background:url("+n("GU0b")+");background-repeat:no-repeat;background-position:50%;background-size:15px;width:20px;height:20px;cursor:pointer}button.action{background-color:#cff09e;border-radius:8px;padding:10px 25px;color:#507c5c;font-size:16px;margin-bottom:30px;margin-top:5px;margin-bottom:25px}button.action.alert{color:#fff;background-color:red}button.action.success{color:#fff;background-color:green}.petition-item{position:relative}.petition-actions{position:absolute;right:0;top:0}section{width:90%;box-sizing:border-box;margin:0 auto;padding:20px}.edit-button{float:right}.mat-card{font-family:Raleway,sans-serif}.mat-card-header{display:block}.mat-card-content{font-size:16px}.user-profile{width:30%;background-color:hsla(0,0%,100%,.74);display:inline-block;border-radius:5px;color:#507c5c;margin:0 auto;text-align:center;line-height:25px;font-size:20px;font-family:Roboto,Helvetica Neue,sans-serif}.user-profile .header-image{width:100px;height:100px;border-radius:50%;margin:20px auto}.head-image,.user-profile .header-image{background-image:url(http://www.lovemarks.com/wp-content/uploads/profile-avatars/default-avatar-indian-girl.png);background-size:cover}.head-image{width:90px;height:90px;display:inline-block}.airplane{background-size:cover;height:25px;width:25px;display:inline-block;vertical-align:middle;margin-right:5px}.airplane.landing{background:url("+n("vIna")+")}.airplane.takeoff{background:url("+n("tgCO")+")}.route{text-transform:uppercase;font-size:large;vertical-align:middle;line-height:30px}.route-date{font-size:17px;margin-top:10px}.route-form{display:inline-block}.route-form-title{margin-top:35px}.remove-btn{position:absolute;right:20px;top:20px}.card-title{font-size:18px;color:#507c5c;margin-top:15px;margin-bottom:5px;text-decoration:underline}md-card-subtitle.rating{margin-left:-1px}.wrap-info{text-align:center}.star-icon{background:url("+n("Hl2O")+");background-size:cover;height:20px;width:20px;display:inline-block;vertical-align:middle;margin-right:5px}.mat-card-header.rating,.wrap-petition{text-align:center}.badges{width:30px}.center{text-align:center}",""]),t.exports=t.exports.toString()},"1IEk":function(t,e){t.exports='<section>\n  <div class="wrapper">\n    <h1> Login </h1>\n    <form>\n      <md-input-container>\n        <input mdInput [(ngModel)]="username" placeholder="Username" name="username" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput [(ngModel)]="password" placeholder="Password" name="password" type="password" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n\n      <button md-raised-button (click)="login()"> login </button>\n    </form>\n    <span class="error"> {{ error }} </span>\n  </div>\n</section>\n'},"3hn/":function(t,e,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),a=(n.n(r),n("xpf9")),s=(n.n(a),n("Dqrr"));n.n(s);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},p=function(){function t(t,e,n){this.http=t,this.BASE=e,this.API=n,this.options={withCredentials:!0},this.endpoint=e+n}return t.prototype.handleError=function(t){return console.error("Error en la llamada a la API"),s.Observable.throw(t.json().message)},t.prototype.show=function(t){return this.http.get(this.endpoint+"/petition/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.create=function(t){return console.log(t),this.http.post(this.endpoint+"/petition",{route_id:t},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.update=function(t,e,n){return this.http.put(this.endpoint+"/petition/"+t,{status:e,creatorID:n},this.options).map(function(t){return t.json()}).catch(this.handleError)},t}();p=c([n.i(i.Injectable)(),u(1,n.i(i.Inject)("BASE_ENDPOINT")),u(2,n.i(i.Inject)("API_ENDPOINT")),d("design:paramtypes",["function"==typeof(l=void 0!==o.Http&&o.Http)&&l||Object,Object,Object])],p);var l},"5o3g":function(t,e){t.exports='<section>\n  <div class="wrapper">\n    <h1> New Route </h1>\n    <form (ngSubmit)="newRoute(myForm)" #myForm="ngForm">\n      <md-input-container>\n        <input mdInput ngui-auto-complete [(ngModel)]="from" [source]="worldAirports" placeholder="From" name="from" [max-num-list]="10" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput ngui-auto-complete [(ngModel)]="to" [source]="veAirports" placeholder="To" name="to" [max-num-list]="5" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput [(ngModel)]="date" [mdDatepicker]="picker" placeholder="Choose a date" name="date" required>\n        <button mdSuffix [mdDatepickerToggle]="picker"></button>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-datepicker #picker></md-datepicker>\n\n      <button md-raised-button type="submit"> add new route </button>\n    </form>\n    <span class="error"> {{ error }} </span>\n  </div>\n</section>\n'},"75cc":function(t,e,n){"use strict";var i=n("/oeL"),o=n("NrHY"),r=n("BkNc");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.session=t,this.router=e}return t.prototype.ngOnInit=function(){},t.prototype.logout=function(){this.session.logout().subscribe(),this.router.navigate([""])},t}();c=a([n.i(i.Component)({selector:"app-navbar",template:n("GvUu"),styles:[n("+d+s")]}),s("design:paramtypes",["function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],c);var d,u},DDQh:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button{text-transform:uppercase}.mat-input-container{display:block}",""]),t.exports=t.exports.toString()},Ev6k:function(t,e,n){"use strict";var i=n("K181"),o=n("0+Pn"),r=n("bdjv"),a=n("cwWe"),s=n("Is/m");n.d(e,"a",function(){return c});var c=[{path:"",component:r.a},{path:"login",component:i.a},{path:"signup",component:a.a},{path:"route",component:s.a},{path:"user/:id",component:o.a},{path:"**",redirectTo:""}]},FW8O:function(t,e,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),a=(n.n(r),n("xpf9")),s=(n.n(a),n("Dqrr"));n.n(s);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},p=function(){function t(t,e,n){this.http=t,this.BASE=e,this.API=n,this.options={withCredentials:!0},this.params=new URLSearchParams,this.endpoint=e+n}return t.prototype.handleError=function(t){return console.error("Error en la llamada a la API"),s.Observable.throw(t.json().message)},t.prototype.list=function(t){return this.params.from=t.from,this.params.to=t.to,this.params.date=t.date,this.http.get(this.endpoint+"/route/list",{withCredentials:!0,params:this.params}).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.show=function(t){return this.http.get(this.endpoint+"/route/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.create=function(t){return console.log(t),this.http.post(this.endpoint+"/route",t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.update=function(t,e){return this.http.put(this.endpoint+"/route/"+t,e,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.remove=function(t){return this.http.delete(this.endpoint+"/route/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t}();p=c([n.i(i.Injectable)(),u(1,n.i(i.Inject)("BASE_ENDPOINT")),u(2,n.i(i.Inject)("API_ENDPOINT")),d("design:paramtypes",["function"==typeof(l=void 0!==o.Http&&o.Http)&&l||Object,Object,Object])],p);var l},GU0b:function(t,e,n){t.exports=n.p+"close-button.aeec28632f4519bdb1c5.svg"},GvUu:function(t,e){t.exports='<md-toolbar class="fixed-header">\n  <a class="mat-button" md-button [routerLink]="[\'\']">\n    <span class="mat-button-wrapper">P2PMeds</span>\n    <div class="mat-button-ripple mat-ripple"></div>\n    <div class="mat-button-focus-overlay"></div>\n  </a>\n  <span *ngIf="session.user && session.startLoginCompleted">\n  <a class="mat-button" md-button [routerLink]="[\'user\', session.user._id]">\n    <span class="mat-button-wrapper">My Profile</span>\n    <div class="mat-button-ripple mat-ripple"></div>\n    <div class="mat-button-focus-overlay"></div>\n  </a>\n  <a class="mat-button" md-button [routerLink]="[\'route\']">\n    <span class="mat-button-wrapper">Create New Route</span>\n    <div class="mat-button-ripple mat-ripple"></div>\n    <div class="mat-button-focus-overlay"></div>\n  </a>\n  </span>\n  <span class="flex-spacer"></span>\n  <span *ngIf="!session.user && session.startLoginCompleted">\n  <a class="mat-button" md-button [routerLink]="[\'login\']">\n    <span class="mat-button-wrapper">Login</span>\n    <div class="mat-button-ripple mat-ripple"></div>\n    <div class="mat-button-focus-overlay"></div>\n  </a>\n  <a class="mat-button" md-button [routerLink]="[\'signup\']">\n    <span class="mat-button-wrapper">Signup</span>\n    <div class="mat-button-ripple mat-ripple"></div>\n    <div class="mat-button-focus-overlay"></div>\n  </a>\n  </span>\n  <span *ngIf="session.user && session.startLoginCompleted">\n    <a class="mat-button">\n      <span class="mat-button-wrapper">{{session.user.username}}</span>\n    </a>\n    <a class="mat-button" md-button (click)="logout()">\n      <span class="mat-button-wrapper">Logout</span>\n      <div class="mat-button-ripple mat-ripple"></div>\n      <div class="mat-button-focus-overlay"></div>\n    </a>\n  </span>\n</md-toolbar>\n'},"HJ+F":function(t,e,n){"use strict";var i=n("/oeL"),o=n("Z04r"),r=n("zeOe");n.d(e,"a",function(){return d});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},d=function(){function t(t,e,n){var i=this;this.userRatingDialogRef=t,this.RatingService=e,this.data=n,this.onClick=function(t){i.rating=t.rating},this.ratedUserID=n.ratedUserID,this.petitionID=n.petitionID}return t.prototype.ngOnInit=function(){},t.prototype.rateUser=function(t){var e=this,n={stars:this.rating,comment:t.value.comment};console.log(n),this.RatingService.create(this.ratedUserID,n,this.petitionID).subscribe(function(t){e.userRatingDialogRef.close("true")})},t}();d=a([n.i(i.Component)({selector:"app-user-rating",template:n("kaxQ"),styles:[n("Lyh+")]}),c(2,n.i(i.Inject)(o.G)),s("design:paramtypes",["function"==typeof(u=void 0!==o.H&&o.H)&&u||Object,"function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,Object])],d);var u,p},Hl2O:function(t,e,n){t.exports=n.p+"star.cb03e997a788836aa0fb.svg"},IngA:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".footer-distributed{background-color:#507c5c;box-shadow:0 1px 1px 0 rgba(0,0,0,.12);box-sizing:border-box;width:100%;text-align:left;font:700 16px Raleway,sans-serif;padding:55px 50px}.footer-distributed .footer-center,.footer-distributed .footer-left,.footer-distributed .footer-right{display:inline-block;vertical-align:top}.footer-distributed .footer-left{width:30%;margin-left:30px}.footer-distributed h3{color:#fff;font:normal 36px Cookie,cursive;margin:0}.footer-distributed h3 span{color:#cff09e}.footer-distributed .footer-links{color:#fff;margin:20px 0 12px;padding:0}.footer-distributed .footer-links a{display:inline-block;line-height:1.8;text-decoration:none;color:inherit}.footer-distributed .footer-company-name{color:#8f9296;font-size:14px;font-weight:400;margin:0}.footer-distributed .footer-center{width:40%}.footer-distributed .footer-center i{background-color:#cff09e;color:#fff;font-size:25px;width:38px;height:38px;border-radius:50%;text-align:center;line-height:42px;margin:10px 15px;vertical-align:middle}.footer-distributed .footer-center i.fa-envelope{font-size:17px;line-height:38px}.footer-distributed .footer-center p{display:inline-block;color:#fff;vertical-align:middle;margin:0}.footer-distributed .footer-center p span{display:block;font-weight:400;font-size:14px;line-height:2}.footer-distributed .footer-center p a{color:#cff09e;text-decoration:none}.footer-distributed .footer-right{width:20%}.footer-distributed .footer-company-about{line-height:20px;color:#fff;font-size:13px;font-weight:400;margin:0}.footer-distributed .footer-company-about span{display:block;color:#fff;font-size:14px;font-weight:700;margin-bottom:20px}.footer-distributed .footer-icons{margin-top:25px}.footer-distributed .footer-icons a{display:inline-block;width:35px;height:35px;cursor:pointer;background-color:#cff09e;border-radius:2px;font-size:20px;color:#fff;text-align:center;line-height:35px;margin-right:3px;margin-bottom:5px}@media (max-width:880px){.footer-distributed{font:700 14px sans-serif}.footer-distributed .footer-center,.footer-distributed .footer-left,.footer-distributed .footer-right{display:block;width:100%;margin-bottom:40px;text-align:center}.footer-distributed .footer-center i{margin-left:0}}",""]),t.exports=t.exports.toString()},"Is/m":function(t,e,n){"use strict";var i=n("/oeL"),o=n("FW8O"),r=n("lx2j"),a=n("BkNc");n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n){var i=this;this.route=t,this.router=e,this.airport=n,n.list().subscribe(function(t){i.veAirports=t.veAirports,i.worldAirports=t.worldAirports})}return t.prototype.ngOnInit=function(){},t.prototype.newRoute=function(t){var e,n,i,o=this;e=t.value.date.getDate()<10?"0"+t.value.date.getDate():t.value.date.getDate(),n=t.value.date.getMonth()<10?"0"+(t.value.date.getMonth()+1):t.value.date.getMonth()+1,i=t.value.date.getFullYear();var r={from:t.value.from,to:t.value.to,date:i+"-"+n+"-"+e};console.log(r),this.route.create(r).subscribe(function(t){console.log(t),o.router.navigate(["user",t.creator_id._id])})},t}();d=s([n.i(i.Component)({selector:"app-route-new",template:n("5o3g"),styles:[n("lDJ/")]}),c("design:paramtypes",["function"==typeof(u=void 0!==o.a&&o.a)&&u||Object,"function"==typeof(p=void 0!==a.b&&a.b)&&p||Object,"function"==typeof(l=void 0!==r.a&&r.a)&&l||Object])],d);var u,p,l},K181:function(t,e,n){"use strict";var i=n("/oeL"),o=n("NrHY"),r=n("BkNc");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.session=t,this.router=e}return t.prototype.ngOnInit=function(){},t.prototype.login=function(){var t=this;this.session.login(this.username,this.password).subscribe(function(e){console.log(e),t.router.navigate([""])},function(e){return t.error=e})},t}();c=a([n.i(i.Component)({selector:"app-login",template:n("1IEk"),styles:[n("mJMf")]}),s("design:paramtypes",["function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],c);var d,u},"Lyh+":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button{text-transform:uppercase}md-input-container.mat-input-container{display:block}",""]),t.exports=t.exports.toString()},NrHY:function(t,e,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),a=(n.n(r),n("xpf9")),s=(n.n(a),n("Dqrr"));n.n(s);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},p=function(){function t(t,e,n){var i=this;this.http=t,this.BASE=e,this.API=n,this.startLoginCompleted=!1,this.options={withCredentials:!0},this.endpoint=e+n,this.isLoggedIn().subscribe(function(t){console.log("Welcome again user "+t.username),i.user=t,i.startLoginCompleted=!0},function(t){return i.startLoginCompleted=!0})}return t.prototype.handleError=function(t){return console.error("Error en la llamada a la API"),s.Observable.throw(t.json().message)},t.prototype.signup=function(t){return console.log(t),this.http.post(this.endpoint+"/signup",t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.login=function(t,e){var n=this;return console.log(t,e),this.http.post(this.endpoint+"/login",{username:t,password:e},this.options).map(function(t){return n.user=t.json(),n.user}).catch(this.handleError)},t.prototype.logout=function(){var t=this;return this.http.get(this.endpoint+"/logout",this.options).map(function(e){e.json(),t.user=void 0}).catch(this.handleError)},t.prototype.isLoggedIn=function(){var t=this;return this.http.get(this.endpoint+"/loggedin",this.options).map(function(e){return t.user=e.json(),t.user}).catch(this.handleError)},t}();p=c([n.i(i.Injectable)(),u(1,n.i(i.Inject)("BASE_ENDPOINT")),u(2,n.i(i.Inject)("API_ENDPOINT")),d("design:paramtypes",["function"==typeof(l=void 0!==o.Http&&o.Http)&&l||Object,Object,Object])],p);var l},"V+Q7":function(t,e){t.exports='<header>\n<div class="header-text">\n  Peer to Peer Medicines is a community that creates a network of\n  humanitarian help, connecting travelers with those who need to send\n  urgent medicines to their loved ones in Venezuela.\n</div>\n</header>\n<section>\n  <div class="wrapper">\n    <h1 class="route-form-title"> Need to send something? </h1>\n    <form class="route-form" (ngSubmit)="searchRoutes(myForm)" #myForm="ngForm">\n      <md-input-container>\n        <input mdInput ngui-auto-complete [(ngModel)]="from" [source]="worldAirports" placeholder="From" name="from" [max-num-list]="10" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput ngui-auto-complete [(ngModel)]="to" [source]="veAirports" placeholder="To" name="to" [max-num-list]="5" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput [(ngModel)]="date" [mdDatepicker]="picker" placeholder="Choose a date" name="date" required>\n        <button mdSuffix [mdDatepickerToggle]="picker"></button>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-datepicker #picker></md-datepicker>\n      <button md-raised-button type="submit" class="search"> search </button>\n    </form>\n  </div>\n  <div class="message">\n    <h3>{{message}}</h3>\n  </div>\n  <div class="flex-container wrap">\n    <md-card class="flex-item" *ngFor="let route of routesData">\n      <md-card-header>\n        <div md-card-avatar class="header-image"></div>\n        <md-card-title class="username"><a *ngIf="session.user" [routerLink]="[\'/user\', route.route.creator_id._id]">{{route.route.creator_id.name}}</a></md-card-title>\n        <md-card-title class="username"><a *ngIf="!session.user" [routerLink]="[\'login\']">{{route.route.creator_id.name}}</a></md-card-title>\n        <md-card-subtitle class="rating">\n          <div class="star-icon"></div>\n          <span *ngIf="route.route.creator_id.ratingTotal">{{route.route.creator_id.ratingTotal/route.ratings.length}}/5</span>\n          <span *ngIf="!route.route.creator_id.ratingTotal">0/5</span>\n          - {{route.ratings.length}} reviews\n        </md-card-subtitle>\n        <md-card-subtitle>\n          <img *ngIf="route.route.creator_id.badges[0].active" src="{{route.route.creator_id.badges[0].img}}" alt="1flight" class="badges">\n          <img *ngIf="route.route.creator_id.badges[1].active" src="{{route.route.creator_id.badges[1].img}}" alt="3flight" class="badges">\n          <img *ngIf="route.route.creator_id.badges[2].active" src="{{route.route.creator_id.badges[2].img}}" alt="5flight" class="badges">\n          <img *ngIf="route.route.creator_id.badges[3].active" src="{{route.route.creator_id.badges[3].img}}" alt="take3"  class="badges">\n          <img *ngIf="route.route.creator_id.badges[4].active" src="{{route.route.creator_id.badges[4].img}}" alt="take6"  class="badges">\n          <img *ngIf="route.route.creator_id.badges[5].active" src="{{route.route.creator_id.badges[5].img}}" alt="take 10" class="badges">\n          <img *ngIf="route.route.creator_id.badges[6].active" src="{{route.route.creator_id.badges[6].img}}" alt="rate3" class="badges">\n          <img *ngIf="route.route.creator_id.badges[7].active" src="{{route.route.creator_id.badges[7].img}}" alt="rate5" class="badges">\n          <img *ngIf="route.route.creator_id.badges[8].active" src="{{route.route.creator_id.badges[8].img}}" alt="rate10" class="badges">\n          <img *ngIf="route.route.creator_id.badges[9].active" src="{{route.route.creator_id.badges[9].img}}" alt="reject3" class="badges">\n          <img *ngIf="route.route.creator_id.badges[10].active" src="{{route.route.creator_id.badges[10].img}}" alt="signup" class="badges">\n        </md-card-subtitle>\n      </md-card-header>\n      <md-card-content>\n        <div class="entire-route">\n          <div class="route">\n            <span class="airplane takeoff"></span>\n            {{route.route.from}}\n          </div>\n          <div class="route">\n            <span class="airplane landing"></span>\n            {{route.route.to}}\n          </div>\n        </div>\n        <p class="route-date">{{route.route.date | date:\'fullDate\'}}</p>\n      </md-card-content>\n      <md-card-actions>\n        <p class="petitions">{{route.petitions.length}} Petitions</p>\n        <span *ngIf="session.user">\n          <button *ngIf="route.route.creator_id._id !== session.user._id" class="action" (click)="newPetition(route.route._id, $event)">Make a petition</button>\n        </span>\n        <span *ngIf="!session.user">\n          <button class="action" [routerLink]="[\'login\']">Make a petition</button>\n        </span>\n      </md-card-actions>\n    </md-card>\n  </div>\n</section>\n<div class="info">\n  <div class="wrapper">\n    <div class="info-content">\n      <div class="info-section">\n        <img src="/assets/icons/shield.svg" alt="" style="display: block!important;">\n        <div class="info-section-title">Trustworthy</div>\n        <p>Send medicines to your loved ones in a safe way.</p>\n      </div>\n      <div class="info-section">\n        <img src="/assets/icons/pulse.svg" alt="" style="display: block!important;">\n        <div class="info-section-title">Caring</div>\n        <p>Help those that need it the most for a good cause.</p>\n      </div>\n      <div class="info-section">\n        <img src="/assets/icons/fast-forward.svg" alt="" style="display: block!important;">\n        <div class="info-section-title">Fast</div>\n        <p>Go through a quick and easy process designed for urgent needs.</p>\n      </div>\n    </div>\n  </div>\n</div>\n'},WAhk:function(t,e,n){"use strict";var i=n("/oeL"),o=n("Z04r"),r=n("NrHY"),a=n("uJLR"),s=n("oKOW");n.n(s);n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this.userEditDialogRef=t,this.session=e,this.userService=n,this.uploader=new s.FileUploader({url:"http://localhost:3000/api/user/"+this.session.user._id}),this.updates={email:"",profilePic:""}}return t.prototype.ngOnInit=function(){},t.prototype.update=function(t,e){var n=this;console.log(this.updates),this.uploader.onBuildItemForm=function(t,e){e.append("email",n.updates.email),e.append("profilePic",n.updates.profilePic)},this.uploader.uploadAll(),console.log("uploaded"),this.userEditDialogRef.close()},t}();u=c([n.i(i.Component)({selector:"app-user-edit",template:n("/ZHi"),styles:[n("hk71")],providers:[a.a]}),d("design:paramtypes",["function"==typeof(p=void 0!==o.H&&o.H)&&p||Object,"function"==typeof(l=void 0!==r.a&&r.a)&&l||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object])],u);var p,l,f},"aR8+":function(t,e,n){"use strict";var i=n("p5Ee"),o=n("fc+i"),r=n("fL27"),a=n("/oeL"),s=n("BkNc"),c=n("Ev6k"),d=n("CPp0"),u=n("bm2B"),p=n("SZXV"),l=n("oSQj"),f=(n.n(l),n("oKOW")),g=(n.n(f),n("Z04r")),m=n("p4Sk"),h=n("NrHY"),b=n("FW8O"),v=n("3hn/"),y=n("zeOe"),x=n("lx2j"),_=n("wQAS"),I=n("K181"),j=n("0+Pn"),w=n("bdjv"),k=n("cwWe"),R=n("Is/m"),O=n("75cc"),P=n("WAhk"),D=n("faQl"),E=n("HJ+F"),C=n("nVho");n.d(e,"a",function(){return M});var N=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},M=function(){function t(){}return t}();M=N([n.i(a.NgModule)({declarations:[_.a,I.a,j.a,w.a,k.a,R.a,O.a,P.a,D.a,E.a,f.FileSelectDirective,C.a],entryComponents:[P.a,D.a,E.a],imports:[p.a.forRoot(),o.a,r.a,s.a.forRoot(c.a),d.HttpModule,u.FormsModule,l.NguiAutoCompleteModule,g.a,g.b,u.ReactiveFormsModule,m.a,g.c,g.d,g.e,g.f,g.g,g.h,g.i,g.j,g.k,g.l,g.m,g.n,g.o,g.p,g.q,g.b,g.r,g.s,g.t,g.u,g.v,g.w,g.x,g.y,g.z,g.A,g.B,g.C,g.D,g.E,g.F,g.j],providers:[y.a,v.a,b.a,h.a,x.a,{provide:"BASE_ENDPOINT",useValue:i.a.baseEndpoint},{provide:"API_ENDPOINT",useValue:i.a.apiEndpoint}],bootstrap:[_.a]})],M)},aeEO:function(t,e){t.exports='<header>\n  <div *ngIf="user" class="edit-button">\n    <button *ngIf="user._id == session.user._id" (click)="userEditDialog()" class="action">edit</button>\n  </div>\n  <div *ngIf="user" class="user-profile">\n    <div class="header-image"></div>\n    <div>{{user.name}}</div>\n    <div>@{{user.username}}</div>\n    <div class="rating">\n      <div class="star-icon"></div>\n      <span *ngIf="user.ratingTotal != 0">{{user.ratingTotal/myRatings.length}}/5</span>\n      <span *ngIf="user.ratingTotal == 0">0/5</span>\n      - {{myRatings.length}} reviews\n    </div>\n    <div>\n      <img *ngIf="user.badges[0].active" src="{{user.badges[0].img}}" alt="1flight" class="badges">\n      <img *ngIf="user.badges[1].active" src="{{user.badges[1].img}}" alt="3flight" class="badges">\n      <img *ngIf="user.badges[2].active" src="{{user.badges[2].img}}" alt="5flight" class="badges">\n      <img *ngIf="user.badges[3].active" src="{{user.badges[3].img}}" alt="take3"  class="badges">\n      <img *ngIf="user.badges[4].active" src="{{user.badges[4].img}}" alt="take6"  class="badges">\n      <img *ngIf="user.badges[5].active" src="{{user.badges[5].img}}" alt="take 10" class="badges">\n      <img *ngIf="user.badges[6].active" src="{{user.badges[6].img}}" alt="rate3" class="badges">\n      <img *ngIf="user.badges[7].active" src="{{user.badges[7].img}}" alt="rate5" class="badges">\n      <img *ngIf="user.badges[8].active" src="{{user.badges[8].img}}" alt="rate10" class="badges">\n      <img *ngIf="user.badges[9].active" src="{{user.badges[9].img}}" alt="reject3" class="badges">\n      <img *ngIf="user.badges[10].active" src="{{user.badges[10].img}}" alt="signup" class="badges">\n    </div>\n  </div>\n</header>\n<section>\n  <md-tab-group>\n    <md-tab label="My Routes">\n      <div class="wrapper">\n        <div class="flex-container wrap" *ngIf="routesCreated">\n          <md-card class="route-item cards-wrapper" *ngFor="let route of routesCreated">\n            <div class="remove-btn" *ngIf="session.user._id == route.creator_id">\n              <button (click)="routeEditDialog($event)" value="{{route._id}}" class="action">Edit</button>\n              <button class="remove" (click)=remove(route._id)></button>\n            </div>\n            <md-card-header>\n              <div class="entire-route">\n                <div class="route">\n                  <span class="airplane takeoff"></span>\n                  {{route.from}}\n                    -\n                  {{route.to}}\n                  <span class="airplane landing"></span>\n                </div>\n              </div>\n              <div class="route-date">{{route.date | date:\'fullDate\'}}</div>\n            </md-card-header>\n            <md-card-content>\n              <div *ngIf="routesWithPetitions.length == 0">\n                <div class="card-title">Petitions</div>\n                you don\'t have any petititons yet!\n              </div>\n              <div *ngIf="routesWithPetitions.length != 0">\n                <div class="card-title">Petitions</div>\n                <div *ngFor="let petition of routesWithPetitions" class="petition-item">\n                  <div *ngIf="route._id == petition.route_id._id">\n                    <p><i>Status:</i> {{petition.status}}</p>\n                      <div *ngIf="session.user._id == petition.route_id.creator_id" class="petition-actions">\n                        <button *ngIf="petition.status == \'Pending Confirmation\'" (click)="setStatus(petition._id, $event, petition.route_id.creator_id)" value="Confirmed" class="action success">Confirm</button>\n                        <button *ngIf="petition.status == \'Pending Confirmation\'" (click)="setStatus(petition._id, $event, petition.route_id.creator_id)" value="Rejected" class="action alert">Reject</button>\n                        <button *ngIf="petition.status == \'Delivered to Carrier\'" (click)="setStatus(petition._id, $event, petition.route_id.creator_id)" value="In Transit" class="action success">In Transit</button>\n                        <button *ngIf="petition.status == \'In Transit\'"(click)="setStatus(petition._id, $event, petition.route_id.creator_id)" value="Delivered" class="action success">Delivered</button>\n                      </div>\n                    <p><i>request by:</i><a [routerLink]="[\'/user\', petition.requestUser._id]">@{{petition.requestUser.username}}</a></p>\n                    <div *ngIf="petition.status !== \'Pending Confirmation\' && session.user._id == petition.route_id.creator_id">{{petition.requestUser.email}}</div>\n                  </div>\n                </div>\n              </div>\n            </md-card-content>\n            <md-card-actions>\n              <button *ngIf="session.user._id != route.creator_id" (click)="newPetition(route._id)" class="action">Make a petition</button>\n              <div *ngIf="session.user._id == route.creator_id">\n            </div>\n            </md-card-actions>\n          </md-card>\n        </div>\n      </div>\n    <p *ngIf="routesCreated.length == 0">No Routes created yet!</p>\n    </md-tab>\n    <md-tab label="My Petitions">\n      <div class="flex-container wrap" *ngIf="petitionsMade">\n      <md-card class="flex-item" *ngFor="let petition of petitionsMade">\n        <div class="wrap-petition">\n          <div md-card-avatar class="head-image"></div>\n          <div class="wrap-info">\n            <div class="username"><a [routerLink]="[\'/user\', petition.route_id.creator_id._id]">{{petition.route_id.creator_id.name}}</a></div>\n            <div *ngIf="petition.status !== \'Pending Confirmation\' && session.user._id == petition.requestUser">{{petition.route_id.creator_id.email}}</div>\n            \x3c!--div class="rating">\n              <div class="star-icon"></div>\n              <span *ngIf="petition.route_id.creator_id.ratingTotal != 0">{{petition.route_id.creator_id.ratingTotal}}/5</span>\n              <span *ngIf="petition.route_id.creator_id.ratingTotal == 0">0/5</span>\n              - {{myRatings.length}} reviews\n            </div--\x3e\n            <div>\n              <img *ngIf="petition.route_id.creator_id.badges[0].active" src="{{petition.route_id.creator_id.badges[0].img}}" alt="1flight" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[1].active" src="{{petition.route_id.creator_id.badges[1].img}}" alt="3flight" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[2].active" src="{{petition.route_id.creator_id.badges[2].img}}" alt="5flight" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[3].active" src="{{petition.route_id.creator_id.badges[3].img}}" alt="take3"  class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[4].active" src="{{petition.route_id.creator_id.badges[4].img}}" alt="take6"  class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[5].active" src="{{petition.route_id.creator_id.badges[5].img}}" alt="take 10" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[6].active" src="{{petition.route_id.creator_id.badges[6].img}}" alt="rate3" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[7].active" src="{{petition.route_id.creator_id.badges[7].img}}" alt="rate5" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[8].active" src="{{petition.route_id.creator_id.badges[8].img}}" alt="rate10" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[9].active" src="{{petition.route_id.creator_id.badges[9].img}}" alt="reject3" class="badges">\n              <img *ngIf="petition.route_id.creator_id.badges[10].active" src="{{petition.route_id.creator_id.badges[10].img}}" alt="signup" class="badges">\n            </div>\n          </div>\n        </div>\n        <md-card-content>\n          <div class="entire-route">\n            <div class="route">\n              <span class="airplane takeoff"></span>\n              {{petition.route_id.from}}\n            </div>\n            <div class="route">\n              <span class="airplane landing"></span>\n              {{petition.route_id.to}}\n            </div>\n          </div>\n          <p class="route-date">{{petition.route_id.date | date:\'fullDate\'}}</p>\n          <div class=""><i>Status: </i> {{petition.status}}</div>\n        </md-card-content>\n        <md-card-actions class="center">\n          <button class="action success" *ngIf="session.user._id == petition.requestUser && petition.status == \'Confirmed\'" (click)="setStatus(petition._id, $event)" value="Delivered to Carrier">Delivered to Carrier</button>\n          <button class="action" *ngIf="session.user._id == petition.requestUser && petition.status == \'Delivered\'" (click)="userRatingDialog(petition._id, petition.route_id.creator_id._id)">Rate {{petition.route_id.creator_id.username}}</button>\n        </md-card-actions>\n      </md-card>\n    </div>\n    <p *ngIf="petitionsMade.length == 0">No Petitions made yet!</p>\n    </md-tab>\n    <md-tab label="My Ratings">\n      <div class="flex-container wrap" *ngIf="myRatings">\n      <md-card class="flex-item" *ngFor="let rating of myRatings">\n        <md-card-header class="rating">\n          <div md-card-avatar class="head-image"></div>\n          <md-card-title><i>rated by: </i> <a [routerLink]="[\'/user\', rating.user_id._id]">{{rating.user_id.name}}</a></md-card-title>\n        </md-card-header>\n        <md-card-content>\n          <div class="">\n            <div *ngIf="rating.stars == 1"><div class="star-icon"></div></div>\n            <div *ngIf="rating.stars == 2"><div class="star-icon"></div><div class="star-icon"></div></div>\n            <div *ngIf="rating.stars == 3"><div class="star-icon"></div><div class="star-icon"></div><div class="star-icon"></div></div>\n            <div *ngIf="rating.stars == 4"><div class="star-icon"></div><div class="star-icon"></div><div class="star-icon"></div><div class="star-icon"></div></div>\n            <div *ngIf="rating.stars == 5"><div class="star-icon"></div><div class="star-icon"></div><div class="star-icon"></div><div class="star-icon"></div><div class="star-icon"></div></div>\n          </div>\n          <p>{{rating.comment}}</p>\n        </md-card-content>\n      </md-card>\n    </div>\n      <p *ngIf="myRatings.length == 0">No Ratings yet!</p>\n    </md-tab>\n  </md-tab-group>\n</section>\n'},bdjv:function(t,e,n){"use strict";var i=n("/oeL"),o=n("FW8O"),r=n("3hn/"),a=n("NrHY"),s=n("lx2j");n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,i){var o=this;this.route=t,this.petition=e,this.session=n,this.airport=i,i.list().subscribe(function(t){o.veAirports=t.veAirports,o.worldAirports=t.worldAirports})}return t.prototype.ngOnInit=function(){},t.prototype.searchRoutes=function(t){var e=this;if(this.message="",t.value.from&&t.value.to&&t.value.date){var n=void 0,i=void 0,o=void 0;n=t.value.date.getDate()<10?"0"+t.value.date.getDate():t.value.date.getDate(),i=t.value.date.getMonth()<10?"0"+(t.value.date.getMonth()+1):t.value.date.getMonth()+1,o=t.value.date.getFullYear();var r={from:t.value.from,to:t.value.to,date:o+"-"+i+"-"+n};console.log(r),this.route.list(r).subscribe(function(t){e.routesData=t,0==e.routesData.length&&(e.message="Try and look for another date"),console.log(e.routesData)})}},t.prototype.newPetition=function(t,e){var n=this,i=e.target,o=this.routesData.filter(function(e){return e.route._id==t});console.log(o[0]);var r=o[0].petitions.filter(function(t){return t.requestUser==n.session.user._id});console.log(this.session.user._id),console.log(r),0!=r.length?(i.textContent="you made a petition",i.disabled=!0):this.petition.create(t).subscribe(function(e){console.log(e);var i=n.routesData.filter(function(e){return e.route._id==t});console.log(i),i[0].petitions.push(e)})},t}();u=c([n.i(i.Component)({selector:"app-route",template:n("V+Q7"),styles:[n("jx3r")]}),d("design:paramtypes",["function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(l=void 0!==r.a&&r.a)&&l||Object,"function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object])],u);var p,l,f,g},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/oeL"),o=n("Qa4U"),r=n("aR8+");n("p5Ee").a.production&&n.i(i.enableProdMode)(),n.i(o.a)().bootstrapModule(r.a)},cwWe:function(t,e,n){"use strict";var i=n("/oeL"),o=n("NrHY"),r=n("BkNc");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.session=t,this.router=e}return t.prototype.ngOnInit=function(){},t.prototype.signup=function(t){var e=this;console.log(t.value),this.session.signup(t.value).subscribe(function(t){e.session.isLoggedIn().subscribe(function(t){console.log(t),e.router.navigate([""])})},function(t){return e.error=t})},t}();c=a([n.i(i.Component)({selector:"app-signup",template:n("u69u"),styles:[n("uCiM")]}),s("design:paramtypes",["function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],c);var d,u},efyd:function(t,e){t.exports="<app-navbar></app-navbar>\n<router-outlet></router-outlet>\n<app-footer></app-footer>\n"},faQl:function(t,e,n){"use strict";var i=n("/oeL"),o=n("Z04r"),r=n("FW8O");n.d(e,"a",function(){return d});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},d=function(){function t(t,e,n){this.routeEditDialogRef=t,this.routeService=e,this.data=n,this.routeID=n}return t.prototype.ngOnInit=function(){},t.prototype.updateRoute=function(t){var e,n=this;if(console.log(t.value),t.value.date){var i=void 0,o=void 0,r=void 0;i=t.value.date.getDate()<10?"0"+t.value.date.getDate():t.value.date.getDate(),o=t.value.date.getMonth()<10?"0"+(t.value.date.getMonth()+1):t.value.date.getMonth()+1,r=t.value.date.getFullYear(),e=r+"-"+o+"-"+i}var a={from:t.value.from,to:t.value.to,date:e};this.routeService.update(this.routeID,a).subscribe(function(t){return n.routeEditDialogRef.close(t)})},t}();d=a([n.i(i.Component)({selector:"app-route-edit",template:n("+ns+"),styles:[n("DDQh")]}),c(2,n.i(i.Inject)(o.G)),s("design:paramtypes",["function"==typeof(u=void 0!==o.H&&o.H)&&u||Object,"function"==typeof(p=void 0!==r.a&&r.a)&&p||Object,Object])],d);var u,p},hk71:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button{text-transform:uppercase}md-input-container.mat-input-container{display:block}",""]),t.exports=t.exports.toString()},iN7m:function(t,e,n){t.exports=n.p+"geometric_pattern.88be30c0301459b6e486.jpg"},jx3r:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,".flex-container{padding:0;margin:0;display:-webkit-box;display:-ms-flexbox;display:flex}.wrapper{width:1200px;margin:0 auto}.wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.flex-item{width:300px;margin:5px}.header-image{background-image:url(http://www.lovemarks.com/wp-content/uploads/profile-avatars/default-avatar-indian-girl.png);background-size:cover;width:90px;height:90px}.header-text{color:#507c5c;position:relative;top:130px;text-align:center;width:50%;left:300px;background-color:hsla(0,0%,100%,.74);font-size:x-large;display:inline-block;border-radius:5px;padding:2%}header{background:url("+n("iN7m")+");background-size:contain;height:350px}section{width:90%;box-sizing:border-box;margin:0 auto}.mat-card{font-family:Raleway,sans-serif}.mat-card-title{margin-top:8px;text-transform:capitalize;font-size:18px;font-weight:700;line-height:22px}.star-icon{background:url("+n("Hl2O")+");background-size:cover;height:20px;width:20px}.airplane,.star-icon{display:inline-block;vertical-align:middle;margin-right:5px}.airplane{background-size:cover;height:25px;width:25px}.airplane.landing{background:url("+n("vIna")+")}.airplane.takeoff{background:url("+n("tgCO")+")}.route{text-transform:uppercase;font-size:large;vertical-align:middle;line-height:30px}.route-date{font-size:17px}.route-form{display:inline-block}.route-form-title{margin-top:35px;color:#f5e134}.message{color:#f5e134}.message,md-card-actions{text-align:center}md-card-actions>p{font-size:20px;color:#507c5c;margin:10px 0}md-card-content{margin-top:20px}md-card-subtitle.rating{margin-left:-1px}button{text-transform:uppercase}button.action{background-color:#cff09e;border-radius:8px;padding:10px 25px;color:#507c5c;font-size:16px;margin-bottom:30px;margin-top:5px;margin-bottom:25px}button.search{margin-left:10px;height:33px}.info{margin:100px auto 0;background:#d3d3d3;padding:30px 0}.info-content{display:table;width:100%}.info-section{color:#507c5c;font-weight:700;display:table-cell;width:33.33%;vertical-align:top;padding:0 30px;text-align:center;line-height:23px}.info-section img{width:200px;margin:0 auto}.info-section-title{text-transform:uppercase;font-size:20px;color:#507c5c;margin-top:10px}.badges{width:30px}",""]),t.exports=t.exports.toString()},kaxQ:function(t,e){t.exports='<h2 md-dialog-title>Rate User!</h2>\n    <form (ngSubmit)="rateUser(myForm)" #myForm="ngForm">\n    <star-rating-comp   [starType]="\'svg\'"\n                          [staticColor]="\'ok\'"\n                          [size]="\'large\'"\n                          (onClick)="onClick($event)"></star-rating-comp>\n    <md-input-container>\n      <input mdInput [(ngModel)]="comment" placeholder="Comment" name="comment">\n    </md-input-container>\n      <button md-raised-button type="submit"> add rating </button>\n     </form>\n<p class="error"> {{ error }} </p>\n'},"lDJ/":function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button{text-transform:uppercase}button,md-input-container{display:block}form{box-sizing:border-box;margin:0 auto}section{margin:150px 0}.wrapper{width:1000px;margin:0 auto;padding:0 100px}",""]),t.exports=t.exports.toString()},lx2j:function(t,e,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),a=(n.n(r),n("xpf9")),s=(n.n(a),n("Dqrr"));n.n(s);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},p=function(){function t(t,e,n){this.http=t,this.BASE=e,this.API=n,this.options={withCredentials:!0},this.endpoint=e+n}return t.prototype.handleError=function(t){return console.error("Error en la llamada a la API"),s.Observable.throw(t.json().message)},t.prototype.list=function(){return this.http.get(this.endpoint+"/airports",this.options).map(function(t){return t.json()}).catch(this.handleError)},t}();p=c([n.i(i.Injectable)(),u(1,n.i(i.Inject)("BASE_ENDPOINT")),u(2,n.i(i.Inject)("API_ENDPOINT")),d("design:paramtypes",["function"==typeof(l=void 0!==o.Http&&o.Http)&&l||Object,Object,Object])],p);var l},mJMf:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button{text-transform:uppercase}button,md-input-container{display:block}form{box-sizing:border-box;margin:0 auto}section{margin:150px 0}.wrapper{width:1000px;margin:0 auto;padding:0 100px}",""]),t.exports=t.exports.toString()},n7du:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="n7du"},nVho:function(t,e,n){"use strict";var i=n("/oeL");n.d(e,"a",function(){return a});var o=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();a=o([n.i(i.Component)({selector:"app-footer",template:n("t2c6"),styles:[n("IngA")]}),r("design:paramtypes",[])],a)},p5Ee:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={production:!0,baseEndpoint:"",apiEndpoint:"/api"}},qIKA:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"footer{background-color:#507c5c;height:300px;color:#fff;text-align:center}",""]),t.exports=t.exports.toString()},t2c6:function(t,e){t.exports='<footer class="footer-distributed">\n\n\t\t\t<div class="footer-left">\n\n\t\t\t\t<h3>p2p<span>Meds</span></h3>\n\n\t\t\t\t<p class="footer-company-name">p2pMeds &copy; 2017</p>\n\t\t\t</div>\n\n\t\t\t<div class="footer-center">\n\n\t\t\t\t<div>\n\t\t\t\t\t<i class="fa fa-map-marker"></i>\n\t\t\t\t\t<p><span>Paseo de la chopera, 14</span> Madrid, Spain</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<i class="fa fa-phone"></i>\n\t\t\t\t\t<p>+34 622 17922</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<i class="fa fa-envelope"></i>\n\t\t\t\t\t<p><a href="mailto:mcalderarorey@gmail.com">support@p2pmeds.com</a></p>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t<div class="footer-right">\n\n\t\t\t\t<p class="footer-company-about">\n\t\t\t\t\t<span>About the company</span>\n          Peer to Peer Medicines is a community that creates a network of\n          humanitarian help, connecting travelers with those who need to send\n          urgent medicines to their loved ones in Venezuela.\n\t\t\t\t</p>\n\n\t\t\t\t<div class="footer-icons">\n\n\t\t\t\t\t<a href="#"><i class="fa fa-facebook"></i></a>\n\t\t\t\t\t<a href="#"><i class="fa fa-twitter"></i></a>\n\t\t\t\t\t<a href="#"><i class="fa fa-linkedin"></i></a>\n\t\t\t\t\t<a href="#"><i class="fa fa-github"></i></a>\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t</footer>\n'},tgCO:function(t,e,n){t.exports=n.p+"departure.2e07a6e9631f42588335.svg"},u69u:function(t,e){t.exports='<section>\n  <div class="wrapper">\n    <h1> Signup </h1>\n    <form (ngSubmit)="signup(myForm)" #myForm="ngForm">\n      <md-input-container>\n        <input mdInput [(ngModel)]="username" placeholder="Username" name="username" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput [(ngModel)]="name" placeholder="Name" name="name" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput [(ngModel)]="lastName" placeholder="Last Name" name="lastName" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput [(ngModel)]="email" placeholder="Email" name="email" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n      <md-input-container>\n        <input mdInput [(ngModel)]="password" placeholder="Password" name="password" type="password" required>\n        <md-error>This field is required</md-error>\n      </md-input-container>\n\n      <button md-raised-button type="submit"> signup </button>\n    </form>\n    <span class="error"> {{ error }} </span>\n  </div>\n</section>\n'},uCiM:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"button{text-transform:uppercase}button,md-input-container{display:block}form{box-sizing:border-box;margin:0 auto}section{margin:150px 0}.wrapper{width:1000px;margin:0 auto;padding:0 100px}",""]),t.exports=t.exports.toString()},uJLR:function(t,e,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),a=(n.n(r),n("xpf9")),s=(n.n(a),n("Dqrr"));n.n(s);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},p=function(){function t(t,e,n){this.http=t,this.BASE=e,this.API=n,this.options={withCredentials:!0},this.endpoint=e+n}return t.prototype.handleError=function(t){return console.error("Error en la llamada a la API"),s.Observable.throw(t.json().message)},t.prototype.show=function(t){return this.http.get(this.endpoint+"/user/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.update=function(t,e){return console.log("service",t,e),this.http.post(this.endpoint+"/user/"+t,e,this.options).map(function(t){return t.json()}).catch(this.handleError)},t}();p=c([n.i(i.Injectable)(),u(1,n.i(i.Inject)("BASE_ENDPOINT")),u(2,n.i(i.Inject)("API_ENDPOINT")),d("design:paramtypes",["function"==typeof(l=void 0!==o.Http&&o.Http)&&l||Object,Object,Object])],p);var l},vIna:function(t,e,n){t.exports=n.p+"arrival.fecfaf79352f300a6817.svg"},wQAS:function(t,e,n){"use strict";var i=n("/oeL"),o=n("NrHY"),r=n("BkNc");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.session=t,this.router=e}return t.prototype.logout=function(){this.session.logout().subscribe(),this.router.navigate([""])},t}();c=a([n.i(i.Component)({selector:"app-root",template:n("efyd"),styles:[n("qIKA")]}),s("design:paramtypes",["function"==typeof(d=void 0!==o.a&&o.a)&&d||Object,"function"==typeof(u=void 0!==r.b&&r.b)&&u||Object])],c);var d,u},zeOe:function(t,e,n){"use strict";var i=n("/oeL"),o=n("CPp0"),r=n("5v8a"),a=(n.n(r),n("xpf9")),s=(n.n(a),n("Dqrr"));n.n(s);n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}},p=function(){function t(t,e,n){this.http=t,this.BASE=e,this.API=n,this.options={withCredentials:!0},this.endpoint=e+n}return t.prototype.handleError=function(t){return console.error("Error en la llamada a la API"),s.Observable.throw(t.json().message)},t.prototype.show=function(t){return this.http.get(this.endpoint+"/rating/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.create=function(t,e,n){return this.http.post(this.endpoint+"/rating",{stars:e.stars,comment:e.comment,ratedUser_id:t,petition_id:n},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.update=function(t,e){return this.http.put(this.endpoint+"/petition/"+t,{status:e},this.options).map(function(t){return t.json()}).catch(this.handleError)},t}();p=c([n.i(i.Injectable)(),u(1,n.i(i.Inject)("BASE_ENDPOINT")),u(2,n.i(i.Inject)("API_ENDPOINT")),d("design:paramtypes",["function"==typeof(l=void 0!==o.Http&&o.Http)&&l||Object,Object,Object])],p);var l}},[0]);