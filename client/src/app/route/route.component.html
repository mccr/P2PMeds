<header>
 <p></p>
</header>
<section>
  <h1> search for routes </h1>

  <form (ngSubmit)="searchRoutes(myForm)" #myForm="ngForm">
    <md-input-container>
      <input mdInput ngui-auto-complete [(ngModel)]="from" [source]="worldAirports" placeholder="From" name="from" [max-num-list]="10" required>
      <md-error>This field is required</md-error>
    </md-input-container>
    <md-input-container>
      <input mdInput ngui-auto-complete [(ngModel)]="to" [source]="veAirports" placeholder="To" name="to" [max-num-list]="5" required>
      <md-error>This field is required</md-error>
    </md-input-container>
    <md-input-container>
      <input mdInput [(ngModel)]="date" [mdDatepicker]="picker" placeholder="Choose a date" name="date" required>
      <button mdSuffix [mdDatepickerToggle]="picker"></button>
      <md-error>This field is required</md-error>
    </md-input-container>
    <md-datepicker #picker></md-datepicker>
    <button md-raised-button type="submit"> search </button>
  </form>

    <div class="flex-container wrap">
    <md-card class="flex-item" *ngFor="let route of routesData">
      <md-card-header>
        <div md-card-avatar class="header-image"></div>
        <md-card-title class="username">{{route.route.creator_id.name}}</md-card-title>
        <md-card-subtitle>BADGES</md-card-subtitle>
        <md-card-subtitle><div class="star-icon"></div>4.3/5 - {{route.petitions.length}} reviews</md-card-subtitle>
      </md-card-header>
      <md-card-content>
        <div class="entire-route">
          <span class="route">{{route.route.from}}</span>
          <div class="airplane"></div>
          <span class="route">{{route.route.to}}</span>
        </div>
        <p>{{route.route.date | date:'fullDate'}}</p>
      </md-card-content>
      <md-card-actions>
        <p class="petitions">{{route.petitions.length}} Petitions</p>
        <md-button-toggle (click)="newPetition(route.route._id, $event)">Make a petition</md-button-toggle>
      </md-card-actions>
    </md-card>
  </div>
</section>
